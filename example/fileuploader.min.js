// fileuploader.js v0.1 by Dorian Nowak
(function(e){e.fileuploader=function(a){if("object"==typeof a){var c=new FormData,d=document.querySelector(a.selector);if(null!=d){var b=new XMLHttpRequest;b.open("post",a.url,!0);c.append("file",d.files[0]);b.timeout=a.timeout;a.progress&&"function"==typeof a.progress&&b.upload.addEventListener("progress",a.progress,!1);a.oncomplete&&"function"==typeof a.oncomplete&&b.addEventListener("loadend",a.oncomplete,!1);a.onerror&&"function"==typeof a.onerror&&b.addEventListener("error",a.onerror,!1);a.ontimeout&&
"function"==typeof a.ontimeout&&b.addEventListener("timeout",a.ontimeout,!1)}if(a.headers)for(key in a.headers)b.setRequestHeader(key,a.headers[key]);b.send(c);return b}return null}})(window);